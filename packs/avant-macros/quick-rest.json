{
  "name": "Quick Rest",
  "type": "script",
  "scope": "global",
  "command": "/**\n * Quick Rest Macro\n * Allow selected actors to take a short rest\n */\n\nconst tokens = canvas.tokens.controlled;\n\nif (tokens.length === 0) {\n  ui.notifications.warn('Please select at least one token to rest.');\n  return;\n}\n\nconsole.log(`üò¥ Applying quick rest to ${tokens.length} token(s)...`);\n\nlet restoredCount = 0;\n\nfor (const token of tokens) {\n  if (token.actor) {\n    try {\n      const actor = token.actor;\n      \n      // Restore some health (25% of max)\n      const currentHP = actor.system.health?.value || 0;\n      const maxHP = actor.system.health?.max || 100;\n      const restoreAmount = Math.floor(maxHP * 0.25);\n      const newHP = Math.min(currentHP + restoreAmount, maxHP);\n      \n      // Restore some power points (50% of max)\n      const currentPP = actor.system.powerPoints?.value || 0;\n      const maxPP = actor.system.powerPoints?.max || 10;\n      const restorePP = Math.floor(maxPP * 0.5);\n      const newPP = Math.min(currentPP + restorePP, maxPP);\n      \n      // Update the actor\n      await actor.update({\n        'system.health.value': newHP,\n        'system.powerPoints.value': newPP\n      });\n      \n      console.log(`‚úÖ ${actor.name} rested: HP ${currentHP}‚Üí${newHP}, PP ${currentPP}‚Üí${newPP}`);\n      restoredCount++;\n      \n      // Visual feedback\n      canvas.interface.createScrollingText(token.center, 'Rested', {\n        anchor: CONST.TEXT_ANCHOR_POINTS.CENTER,\n        direction: CONST.TEXT_ANCHOR_POINTS.TOP,\n        distance: 2 * token.h,\n        fontSize: 24,\n        fill: '#0099FF',\n        stroke: '#000000',\n        strokeThickness: 3,\n        jitter: 0.1\n      });\n      \n    } catch (error) {\n      console.error(`‚ùå Failed to rest ${token.actor.name}:`, error);\n    }\n  }\n}\n\nui.notifications.info(`${restoredCount} character(s) took a quick rest!`);",
  "img": "icons/svg/sleep.svg",
  "folder": null,
  "sort": 700,
  "flags": {
    "avant": {
      "description": "Allow selected actors to take a short rest, restoring health and power points",
      "version": "1.0.0",
      "category": "utility"
    }
  },
  "_id": "c70OwsDtGX4imUGj",
  "category": "utility",
  "system": {
    "description": "Allow selected actors to take a short rest, restoring health and power points",
    "version": "1.0.0",
    "category": "utility"
  }
}