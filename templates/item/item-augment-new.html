{{!-- 
  Augment Item Sheet Template - Phase 3 Component Library Version
  
  This template uses the unified component library to provide a clean,
  accessible, and maintainable augment sheet experience. It replaces the
  legacy augment template with modern component-based architecture.
  
  Features:
  - Component library partials for consistent styling
  - Single-content layout without tabs
  - Enhanced accessibility with proper ARIA support
  - AP selector with progressive functionality
  - PP cost input for power point management
  - Rarity and augment type selection
  - Active status toggle
  - Trait chip input with autocomplete
  - Comprehensive form validation
--}}

<div class="item-sheet augment-sheet flexcol" autocomplete="off" data-application-part="form">
    {{!-- Header Section --}}
    <header class="sheet-header">
        <div class="header-main">
            {{!-- Image Upload Component --}}
            {{> "systems/avant/templates/shared/partials/image-upload.hbs" 
                src=item.img 
                alt=item.name 
                title=item.name 
                size=64 
                class="augment-image"}}
            
            {{!-- Name Field --}}
            {{> "systems/avant/templates/shared/partials/text-field.hbs" 
                name="name" 
                value=item.name 
                label="Augment Name" 
                placeholder="Enter augment name..." 
                required=true 
                class="augment-name-field"}}
        </div>
        
        <div class="header-costs">
            {{!-- AP Selector Component --}}
            {{> "systems/avant/templates/shared/partials/ap-selector.hbs" 
                name="system.apCost" 
                value=system.apCost 
                label="AP" 
                hint="Action Point cost to activate this augment" 
                max=3 
                class="augment-ap-selector"}}
            
            {{!-- PP Cost Field --}}
            {{> "systems/avant/templates/shared/partials/number-field.hbs" 
                name="system.ppCost" 
                value=system.ppCost 
                label="PP" 
                min=0 
                max=20 
                placeholder="0" 
                hint="Power Point cost to use this augment" 
                class="augment-pp-cost"}}
        </div>
    </header>

    {{!-- Single Content Layout --}}
    {{#> "systems/avant/templates/shared/partials/single-content.hbs" class="augment-content"}}
        
        {{!-- Description Field --}}
        {{> "systems/avant/templates/shared/partials/textarea-field.hbs" 
            name="system.description" 
            value=system.description 
            label="Description" 
            placeholder="Enter detailed description of this augment..." 
            rows=6 
            maxlength=2000 
            hint="Describe what this augment does and how it enhances the character" 
            class="augment-description"}}
        
        {{!-- Requirements Field --}}
        {{> "systems/avant/templates/shared/partials/text-field.hbs" 
            name="system.requirements" 
            value=system.requirements 
            label="Requirements" 
            placeholder="Enter any prerequisites or requirements..." 
            maxlength=500 
            hint="List any conditions needed to install or use this augment" 
            class="augment-requirements"}}
        
        {{!-- Form Row for Level and Active Status --}}
        {{#> "systems/avant/templates/shared/partials/form-row.hbs" class="augment-primary-stats"}}
            {{> "systems/avant/templates/shared/partials/number-field.hbs" 
                name="system.levelRequirement" 
                value=system.levelRequirement 
                label="Level Required" 
                min=1 
                max=20 
                placeholder="1" 
                hint="Minimum character level to install this augment" 
                class="augment-level-field"}}
            
            {{> "systems/avant/templates/shared/partials/checkbox-field.hbs" 
                name="system.isActive" 
                checked=system.isActive 
                label="Is Active" 
                hint="Whether this augment is currently active and providing benefits" 
                class="augment-active-field"}}
        {{/"systems/avant/templates/shared/partials/form-row.hbs"}}
        
        {{!-- Form Row for Rarity and Augment Type --}}
        {{#> "systems/avant/templates/shared/partials/form-row.hbs" class="augment-classification"}}
            {{> "systems/avant/templates/shared/partials/select-field.hbs" 
                name="system.rarity" 
                value=system.rarity 
                label="Rarity" 
                options=rarityOptions 
                hint="How rare and valuable this augment is" 
                class="augment-rarity-field"}}
            
            {{> "systems/avant/templates/shared/partials/select-field.hbs" 
                name="system.augmentType" 
                value=system.augmentType 
                label="Augment Type" 
                options=augmentTypeOptions 
                hint="The category of enhancement this augment provides" 
                class="augment-type-field"}}
        {{/"systems/avant/templates/shared/partials/form-row.hbs"}}
        
        {{!-- Traits Field --}}
        {{> "systems/avant/templates/shared/partials/traits-field.hbs" 
            name="system.traits" 
            displayTraits=displayTraits 
            label="Traits" 
            hint="Add traits to categorize and enhance this augment" 
            editable=editable 
            class="augment-traits"}}
        
    {{/"systems/avant/templates/shared/partials/single-content.hbs"}}
</div> 