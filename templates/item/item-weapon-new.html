{{!-- 
  Weapon Item Sheet Template - Phase 4 Component Library Version
  
  This template uses the unified component library to provide a clean,
  accessible, and maintainable weapon sheet experience. It replaces the
  legacy weapon template with modern component-based architecture.
  
  Features:
  - Component library partials for consistent styling
  - Single-content layout without tabs
  - Enhanced accessibility with proper ARIA support
  - Ability selection for weapon scaling
  - Modifier and damage configuration
  - Weight and cost tracking
  - Trait chip input with autocomplete
  - Comprehensive form validation
--}}

<div class="item-sheet weapon-sheet flexcol" autocomplete="off" data-application-part="form">
    {{!-- Header Section --}}
    <header class="sheet-header">
        <div class="header-main">
            {{!-- Image Upload Component --}}
            {{> "systems/avant/templates/shared/partials/image-upload.hbs" 
                src=item.img 
                alt=item.name 
                title=item.name 
                size=64 
                class="weapon-image"}}
            
            {{!-- Name Field --}}
            {{> "systems/avant/templates/shared/partials/text-field.hbs" 
                name="name" 
                value=item.name 
                label="Weapon Name" 
                placeholder="Enter weapon name..." 
                required=true 
                class="weapon-name-field"}}
        </div>
        
        <div class="header-stats">
            {{!-- Damage Field --}}
            {{> "systems/avant/templates/shared/partials/text-field.hbs" 
                name="system.damage" 
                value=system.damage 
                label="Damage" 
                placeholder="1d8" 
                hint="Weapon damage dice (e.g., 1d8, 2d6)" 
                class="weapon-damage"}}
            
            {{!-- Modifier Field --}}
            {{> "systems/avant/templates/shared/partials/number-field.hbs" 
                name="system.modifier" 
                value=system.modifier 
                label="Modifier" 
                min=-10 
                max=20 
                placeholder="0" 
                hint="Attack modifier bonus/penalty" 
                class="weapon-modifier"}}
        </div>
    </header>

    {{!-- Body Section --}}
    <div class="sheet-body">
        {{!-- Description Field --}}
        {{> "systems/avant/templates/shared/partials/textarea-field.hbs" 
            name="system.description" 
            value=system.description 
            label="Description" 
            rows=3 
            placeholder="Describe this weapon..." 
            class="weapon-description"}}
        
        {{!-- Stats Row --}}
        <div class="form-row">
            {{!-- Ability Selection --}}
            {{> "systems/avant/templates/shared/partials/select-field.hbs" 
                name="system.ability" 
                value=system.ability 
                label="Ability" 
                options=(array 
                    (object value="might" label="Might")
                    (object value="grace" label="Grace")
                    (object value="intellect" label="Intellect")
                    (object value="focus" label="Focus")
                )
                hint="Primary ability used for attacks" 
                class="weapon-ability"}}
            
            {{!-- Weight Field --}}
            {{> "systems/avant/templates/shared/partials/number-field.hbs" 
                name="system.weight" 
                value=system.weight 
                label="Weight" 
                min=0 
                step=0.1 
                placeholder="0" 
                hint="Weight in pounds" 
                class="weapon-weight"}}
        </div>
        
        {{!-- Cost Row --}}
        <div class="form-row">
            {{!-- Cost Field --}}
            {{> "systems/avant/templates/shared/partials/number-field.hbs" 
                name="system.cost" 
                value=system.cost 
                label="Cost" 
                min=0 
                placeholder="0" 
                hint="Cost in credits" 
                class="weapon-cost"}}
        </div>
        
        {{!-- Traits Field --}}
        {{> "systems/avant/templates/shared/partials/traits-field.hbs" 
            name="system.traits" 
            displayTraits=displayTraits 
            label="Traits" 
            hint="Add traits to categorize this weapon" 
            editable=editable 
            class="weapon-traits"}}
    </div>
</div> 