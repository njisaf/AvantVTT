{{!-- 
  Armor Item Sheet Template - Phase 4 Component Library Version
  
  This template uses the unified component library to provide a clean,
  accessible, and maintainable armor sheet experience. It replaces the
  legacy armor template with modern component-based architecture.
  
  Features:
  - Component library partials for consistent styling
  - Single-content layout without tabs
  - Enhanced accessibility with proper ARIA support
  - Ability selection for armor scaling
  - Armor Class and Threshold configuration
  - Weight and cost tracking
  - Trait chip input with autocomplete
  - Comprehensive form validation
--}}

<div class="item-sheet armor-sheet flexcol" autocomplete="off" data-application-part="form">
    {{!-- Header Section --}}
    <header class="sheet-header">
        <div class="header-main">
            {{!-- Image Upload Component --}}
            {{> "systems/avant/templates/shared/partials/image-upload.hbs" 
                src=item.img 
                alt=item.name 
                title=item.name 
                size=64 
                class="armor-image"}}
            
            {{!-- Name Field --}}
            {{> "systems/avant/templates/shared/partials/text-field.hbs" 
                name="name" 
                value=item.name 
                label="Armor Name" 
                placeholder="Enter armor name..." 
                required=true 
                class="armor-name-field"}}
        </div>
        
        <div class="header-stats">
            {{!-- Armor Class Field --}}
            {{> "systems/avant/templates/shared/partials/number-field.hbs" 
                name="system.armorClass" 
                value=system.armorClass 
                label="AC" 
                min=10 
                max=25 
                placeholder="10" 
                hint="Armor Class defense value" 
                class="armor-ac"}}
            
            {{!-- Threshold Field --}}
            {{> "systems/avant/templates/shared/partials/number-field.hbs" 
                name="system.threshold" 
                value=system.threshold 
                label="Threshold" 
                min=0 
                max=20 
                placeholder="0" 
                hint="Damage threshold before penetration" 
                class="armor-threshold"}}
        </div>
    </header>

    {{!-- Body Section --}}
    <div class="sheet-body">
        {{!-- Description Field --}}
        {{> "systems/avant/templates/shared/partials/textarea-field.hbs" 
            name="system.description" 
            value=system.description 
            label="Description" 
            rows=3 
            placeholder="Describe this armor..." 
            class="armor-description"}}
        
        {{!-- Stats Row --}}
        <div class="form-row">
            {{!-- Ability Selection --}}
            {{> "systems/avant/templates/shared/partials/select-field.hbs" 
                name="system.ability" 
                value=system.ability 
                label="Ability" 
                options=(array 
                    (object value="might" label="Might")
                    (object value="grace" label="Grace")
                    (object value="intellect" label="Intellect")
                    (object value="focus" label="Focus")
                )
                hint="Primary ability for armor calculations" 
                class="armor-ability"}}
            
            {{!-- Modifier Field --}}
            {{> "systems/avant/templates/shared/partials/number-field.hbs" 
                name="system.modifier" 
                value=system.modifier 
                label="Modifier" 
                min=-10 
                max=20 
                placeholder="0" 
                hint="Armor modifier bonus/penalty" 
                class="armor-modifier"}}
        </div>
        
        {{!-- Physical Properties Row --}}
        <div class="form-row">
            {{!-- Weight Field --}}
            {{> "systems/avant/templates/shared/partials/number-field.hbs" 
                name="system.weight" 
                value=system.weight 
                label="Weight" 
                min=0 
                step=0.1 
                placeholder="0" 
                hint="Weight in pounds" 
                class="armor-weight"}}
            
            {{!-- Cost Field --}}
            {{> "systems/avant/templates/shared/partials/number-field.hbs" 
                name="system.cost" 
                value=system.cost 
                label="Cost" 
                min=0 
                placeholder="0" 
                hint="Cost in credits" 
                class="armor-cost"}}
        </div>
        
        {{!-- Traits Field --}}
        {{> "systems/avant/templates/shared/partials/traits-field.hbs" 
            name="system.traits" 
            displayTraits=displayTraits 
            label="Traits" 
            hint="Add traits to categorize this armor" 
            editable=editable 
            class="armor-traits"}}
    </div>
</div> 