/**
 * Avant VTT - Base Theme Structure
 * Defines the core theme variables and structure for extensibility
 * Compatible with FoundryVTT v12 and v13
 */

@use '../utilities/variables' as *;

// Theme Interface - All themes must define these variables
@mixin theme-interface {
  // Primary Colors
  --theme-bg-primary: #{$bg-primary};
  --theme-bg-secondary: #{$bg-secondary};
  --theme-bg-tertiary: #{$bg-tertiary};
  
  // Text Colors
  --theme-text-primary: #{$text-primary};
  --theme-text-secondary: #{$text-secondary};
  --theme-text-muted: #{$text-muted};
  
  // Accent Colors
  --theme-accent-primary: #{$accent-primary};
  --theme-accent-secondary: #{$accent-secondary};
  --theme-accent-tertiary: #{$accent-secondary};
  
  // Border Colors
  --theme-border-primary: #{$border-primary};
  --theme-border-accent: #{$border-accent};
  
  // State Colors
  --theme-success: #4CAF50;
  --theme-warning: #FF9800;
  --theme-error: #F44336;
  --theme-info: #{$accent-primary};
  
  // Shadows
  --theme-shadow-primary: #{$shadow-primary};
  --theme-shadow-accent: #{$shadow-accent};
  --theme-shadow-deep: #{$shadow-deep};
  
  // Gradients
  --theme-gradient-primary: #{$gradient-primary};
  --theme-gradient-accent: #{$gradient-accent};
  
  // Typography
  --theme-font-primary: #{$font-primary};
  --theme-font-display: #{$font-display};
  
  // Theme Metadata
  --theme-name: initial;
  --theme-author: initial;
  --theme-version: initial;
}

// Base theme mixin that provides fallbacks and validation
@mixin theme-base {
  @include theme-interface;
  
  // Add theme attribution (hidden but accessible for debugging)
  // Moved after CSS properties to fix mixed-decls warning
  &::before {
    content: "Theme: " var(--theme-name, "Unknown") " by " var(--theme-author, "Unknown");
    position: fixed;
    top: -100px;
    left: -100px;
    opacity: 0;
    pointer-events: none;
    z-index: -1;
  }
}

// Utility mixin for theme-aware colors
@mixin theme-color($property, $theme-var, $fallback: null) {
  @if $fallback {
    #{$property}: var(#{$theme-var}, #{$fallback});
  } @else {
    #{$property}: var(#{$theme-var});
  }
}

// Utility mixin for theme-aware shadows
@mixin theme-shadow($shadow-var, $fallback: null) {
  @if $fallback {
    box-shadow: var(#{$shadow-var}, #{$fallback});
  } @else {
    box-shadow: var(#{$shadow-var});
  }
}

// Utility mixin for theme-aware gradients
@mixin theme-gradient($gradient-var, $fallback: null) {
  @if $fallback {
    background: var(#{$gradient-var}, #{$fallback});
  } @else {
    background: var(#{$gradient-var});
  }
} 