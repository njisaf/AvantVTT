# Spec 02.2 Â· Round Resolution
**Version:** 1.0.0
**Status:** Active

## 1. Summary
This document outlines the process for resolving a combat round, including how attack and defense thresholds are calculated and used.

## 2. Requirements
| ID | Requirement | Rationale |
|----|-------------|-----------|
| 02.2.1 | Attack and Defense Thresholds must be calculated dynamically. | To ensure that combat challenges scale with character progression. |
| 02.2.2 | The formula for thresholds will be `11 + Level + Ability Mod + Expertise`. | Provides a consistent and predictable baseline for combat calculations. |
| 02.2.3 | The calculation logic must be centralized in a pure function. | To ensure consistency between roll calculations and UI displays, and to improve testability. |

## 3. Implementation Details
The `computeThreshold` function in `scripts/logic/rolls-utils.ts` serves as the canonical implementation for this logic. All UI displays and combat roll checks must use this helper.

## 4. Acceptance Criteria
| AC | Test |
|----|------|
| 02.2.a | Given an actor with specific stats, their weapon and armor cards display the correct threshold value. |
| 02.2.b | The `computeThreshold` utility function is covered by unit tests with various inputs. |